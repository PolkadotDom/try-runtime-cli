<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A Noise protocol over DH keys of type `C`. The choice of `C` determines the protocol parameters for each handshake pattern."><title>Protocol in libp2p_noise - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-c5d6553a23f1e5a6.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="libp2p_noise" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0 (eeb90cda1 2024-09-04)" data-channel="1.81.0" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../libp2p_noise/index.html">libp2p_noise</a><span class="version">0.42.2</span></h2></div><h2 class="location"><a href="#">Protocol</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.params_ik">params_ik</a></li><li><a href="#tymethod.params_ix">params_ix</a></li><li><a href="#tymethod.params_xx">params_xx</a></li><li><a href="#tymethod.public_from_bytes">public_from_bytes</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.linked">linked</a></li><li><a href="#method.sign">sign</a></li><li><a href="#method.verify">verify</a></li></ul><h3><a href="#object-safety">Object Safety</a></h3><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In crate libp2p_noise</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">libp2p_noise</a>::<wbr><a class="trait" href="#">Protocol</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/libp2p_noise/protocol.rs.html#74-126">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Protocol&lt;C&gt; {
    // Required methods
    fn <a href="#tymethod.params_ik" class="fn">params_ik</a>() -&gt; ProtocolParams;
<span class="item-spacer"></span>    fn <a href="#tymethod.params_ix" class="fn">params_ix</a>() -&gt; ProtocolParams;
<span class="item-spacer"></span>    fn <a href="#tymethod.params_xx" class="fn">params_xx</a>() -&gt; ProtocolParams;
<span class="item-spacer"></span>    fn <a href="#tymethod.public_from_bytes" class="fn">public_from_bytes</a>(s: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.81.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;PublicKey&lt;C&gt;, <a class="enum" href="enum.Error.html" title="enum libp2p_noise::Error">Error</a>&gt;;

    // Provided methods
    fn <a href="#method.linked" class="fn">linked</a>(id_pk: &amp;<a class="enum" href="../libp2p_identity/keypair/enum.PublicKey.html" title="enum libp2p_identity::keypair::PublicKey">PublicKey</a>, dh_pk: &amp;PublicKey&lt;C&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.verify" class="fn">verify</a>(
        id_pk: &amp;<a class="enum" href="../libp2p_identity/keypair/enum.PublicKey.html" title="enum libp2p_identity::keypair::PublicKey">PublicKey</a>,
        dh_pk: &amp;PublicKey&lt;C&gt;,
        sig: &amp;<a class="enum" href="https://doc.rust-lang.org/1.81.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.81.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.u8.html">u8</a>&gt;&gt;,
    ) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.bool.html">bool</a>
       <span class="where">where C: <a class="trait" href="https://doc.rust-lang.org/1.81.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.u8.html">u8</a>]&gt;</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.sign" class="fn">sign</a>(id_keys: &amp;<a class="enum" href="../libp2p_identity/keypair/enum.Keypair.html" title="enum libp2p_identity::keypair::Keypair">Keypair</a>, dh_pk: &amp;PublicKey&lt;C&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.81.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.81.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.u8.html">u8</a>&gt;, <a class="enum" href="enum.Error.html" title="enum libp2p_noise::Error">Error</a>&gt;
       <span class="where">where C: <a class="trait" href="https://doc.rust-lang.org/1.81.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.u8.html">u8</a>]&gt;</span> { ... }
}</code></pre><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A Noise protocol over DH keys of type <code>C</code>. The choice of <code>C</code> determines the
protocol parameters for each handshake pattern.</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">Â§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.params_ik" class="method"><a class="src rightside" href="../src/libp2p_noise/protocol.rs.html#76">source</a><h4 class="code-header">fn <a href="#tymethod.params_ik" class="fn">params_ik</a>() -&gt; ProtocolParams</h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span></summary><div class="docblock"><p>The protocol parameters for the IK handshake pattern.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.params_ix" class="method"><a class="src rightside" href="../src/libp2p_noise/protocol.rs.html#78">source</a><h4 class="code-header">fn <a href="#tymethod.params_ix" class="fn">params_ix</a>() -&gt; ProtocolParams</h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span></summary><div class="docblock"><p>The protocol parameters for the IX handshake pattern.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.params_xx" class="method"><a class="src rightside" href="../src/libp2p_noise/protocol.rs.html#80">source</a><h4 class="code-header">fn <a href="#tymethod.params_xx" class="fn">params_xx</a>() -&gt; ProtocolParams</h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span></summary><div class="docblock"><p>The protocol parameters for the XX handshake pattern.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.public_from_bytes" class="method"><a class="src rightside" href="../src/libp2p_noise/protocol.rs.html#83">source</a><h4 class="code-header">fn <a href="#tymethod.public_from_bytes" class="fn">public_from_bytes</a>(s: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.81.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;PublicKey&lt;C&gt;, <a class="enum" href="enum.Error.html" title="enum libp2p_noise::Error">Error</a>&gt;</h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span></summary><div class="docblock"><p>Construct a DH public key from a byte slice.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">Â§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.linked" class="method"><a class="src rightside" href="../src/libp2p_noise/protocol.rs.html#93-95">source</a><h4 class="code-header">fn <a href="#method.linked" class="fn">linked</a>(id_pk: &amp;<a class="enum" href="../libp2p_identity/keypair/enum.PublicKey.html" title="enum libp2p_identity::keypair::PublicKey">PublicKey</a>, dh_pk: &amp;PublicKey&lt;C&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.bool.html">bool</a></h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated</span></div></span></summary><div class="docblock"><p>Determines whether the authenticity of the given DH static public key
and public identity key is linked, i.e. that proof of ownership of a
secret key for the static DH public key implies that the key is
authentic w.r.t. the given public identity key.</p>
<p>The trivial case is when the keys are byte for byte identical.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.verify" class="method"><a class="src rightside" href="../src/libp2p_noise/protocol.rs.html#110-118">source</a><h4 class="code-header">fn <a href="#method.verify" class="fn">verify</a>(
    id_pk: &amp;<a class="enum" href="../libp2p_identity/keypair/enum.PublicKey.html" title="enum libp2p_identity::keypair::PublicKey">PublicKey</a>,
    dh_pk: &amp;PublicKey&lt;C&gt;,
    sig: &amp;<a class="enum" href="https://doc.rust-lang.org/1.81.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.81.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.u8.html">u8</a>&gt;&gt;,
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.bool.html">bool</a><div class="where">where
    C: <a class="trait" href="https://doc.rust-lang.org/1.81.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.u8.html">u8</a>]&gt;,</div></h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span></summary><div class="docblock"><p>Verifies that a given static DH public key is authentic w.r.t. a
given public identity key in the context of an optional signature.</p>
<p>The given static DH public key is assumed to already be authentic
in the sense that possession of a corresponding secret key has been
established, as is the case at the end of a Noise handshake involving
static DH keys.</p>
<p>If the public keys are <a href="trait.Protocol.html#method.linked" title="associated function libp2p_noise::Protocol::linked"><code>linked</code></a>, verification succeeds
without a signature, otherwise a signature over the static DH public key
must be given and is verified with the public identity key, establishing
the authenticity of the static DH public key w.r.t. the public identity key.</p>
</div></details><section id="method.sign" class="method"><a class="src rightside" href="../src/libp2p_noise/protocol.rs.html#120-125">source</a><h4 class="code-header">fn <a href="#method.sign" class="fn">sign</a>(id_keys: &amp;<a class="enum" href="../libp2p_identity/keypair/enum.Keypair.html" title="enum libp2p_identity::keypair::Keypair">Keypair</a>, dh_pk: &amp;PublicKey&lt;C&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.81.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.81.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.u8.html">u8</a>&gt;, <a class="enum" href="enum.Error.html" title="enum libp2p_noise::Error">Error</a>&gt;<div class="where">where
    C: <a class="trait" href="https://doc.rust-lang.org/1.81.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.u8.html">u8</a>]&gt;,</div></h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span></div><h2 id="object-safety" class="section-header">Object Safety<a href="#object-safety" class="anchor">Â§</a></h2><div class="object-safety-info">This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.81.0/reference/items/traits.html#object-safety">object safe</a>.</div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">Â§</a></h2><div id="implementors-list"></div><script src="../trait.impl/libp2p_noise/protocol/trait.Protocol.js" async></script></section></div></main></body></html>